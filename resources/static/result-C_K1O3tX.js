import{F as W,G as A,z as C,H as V,as as L,d as H,T as F,S as x,a6 as q,c as m,C as R,I as U,r as b,n as T,o as X,a as _,b as f,e as l,f as I,bu as M,w as y,i as Y,g as d,q as J,B as Q,M as Z,h as P,aL as j,bv as E,j as B,bf as h}from"./index-BnmS5Wz-.js";import{a as K,f as tt,S as et,h as nt,i as at,_ as it,j as rt}from"./task-DbBW9hTS.js";import"./index-BsC_Qhvm.js";const ot=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:n,colorSplit:i,lineWidth:a}=t;return{[e]:C(C({},V(t)),{borderBlockStart:`${a}px solid ${i}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${t.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${a}px solid ${i}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${t.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${t.dividerHorizontalWithTextGutterMargin}px 0`,color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${i}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${a}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${e}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:`${a}px 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:n}}})}},lt=W("Divider",t=>{const e=A(t,{dividerVerticalGutterMargin:t.marginXS,dividerHorizontalWithTextGutterMargin:t.margin,dividerHorizontalGutterMargin:t.marginLG});return[ot(e)]},{sizePaddingEdgeHorizontal:0}),st=()=>({prefixCls:String,type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},orientation:{type:String,default:"center"},plain:{type:Boolean,default:!1},orientationMargin:[String,Number]}),dt=H({name:"ADivider",inheritAttrs:!1,compatConfig:{MODE:3},props:st(),setup(t,e){let{slots:n,attrs:i}=e;const{prefixCls:a,direction:g}=F("divider",t),[S,v]=lt(a),w=x(()=>t.orientation==="left"&&t.orientationMargin!=null),$=x(()=>t.orientation==="right"&&t.orientationMargin!=null),k=x(()=>{const{type:c,dashed:p,plain:z}=t,u=a.value;return{[u]:!0,[v.value]:!!v.value,[`${u}-${c}`]:!0,[`${u}-dashed`]:!!p,[`${u}-plain`]:!!z,[`${u}-rtl`]:g.value==="rtl",[`${u}-no-default-orientation-margin-left`]:w.value,[`${u}-no-default-orientation-margin-right`]:$.value}}),o=x(()=>{const c=typeof t.orientationMargin=="number"?`${t.orientationMargin}px`:t.orientationMargin;return C(C({},w.value&&{marginLeft:c}),$.value&&{marginRight:c})}),s=x(()=>t.orientation.length>0?"-"+t.orientation:t.orientation);return()=>{var c;const p=q((c=n.default)===null||c===void 0?void 0:c.call(n));return S(m("div",R(R({},i),{},{class:[k.value,p.length?`${a.value}-with-text ${a.value}-with-text${s.value}`:"",i.class],role:"separator"}),[p.length?m("span",{class:`${a.value}-inner-text`,style:o.value},[p]):null]))}}}),ct=L(dt);var ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){ft(t,a,n[a])})}return t}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=function(e,n){var i=G({},e,n.attrs);return m(U,G({},i,{icon:ut}),null)};O.displayName="ReloadOutlined";O.inheritAttrs=!1;const gt={class:"p-4 h-full flex-col"},ht={class:"space-x-xl"},mt={key:0,class:"grid gap-4 grid-cols-[repeat(auto-fill,minmax(200px,1fr))] mt-4 max-h-full"},vt=["src"],pt=["title"],_t={class:"flex justify-between text-sm mb-1"},xt={class:"text-red-500 font-bold"},bt={class:"line-through text-gray-400"},yt={class:"text-xs text-gray-500 mb-1"},St={class:"text-xs text-gray-500 mb-1"},wt={class:"flex"},$t={class:"text-xs text-gray-500 mb-1"},zt={class:"text-xs text-gray-500"},Ct={class:"text-xs text-blue-500 w-fit ml-auto",title:"商品链接"},kt=["href"],Mt={key:1,class:"mt-4 text-gray-400"},Tt=H({__name:"result",setup(t){const e=K(),n=b(),i=b(null),a=b(!1),g=b(1),S=b(20),v=async(o,s=1)=>{if(o!==void 0){a.value=!0;try{i.value=await nt(Number(o),{page:s,limit:S.value})}finally{a.value=!1}}},w=o=>{g.value=o,n.value!==void 0&&v(n.value,o)},$=()=>{n.value!==void 0&&v(n.value,g.value)},k=()=>{n.value!==void 0&&Z.confirm({title:"删除结果",content:"删除后不可恢复，确定删除？",async onOk(){try{await at(n.value),i.value=null,g.value=1,P.success("删除成功")}catch{P.error("删除失败")}}})};return T(n,o=>{g.value=1,o!==void 0&&v(o,1)}),T(()=>e.tasks,o=>{!n.value&&o.length&&(n.value=o[0].task_id)},{immediate:!0}),X(()=>{n.value!==void 0&&v(n.value,g.value)}),(o,s)=>{const c=rt,p=tt,z=Q,u=ct,D=et,N=it;return f(),_("div",gt,[l("div",ht,[m(p,{value:d(n),"onUpdate:value":s[0]||(s[0]=r=>Y(n)?n.value=r:null),placeholder:"选择任务",class:"w-72 mb-4"},{default:y(()=>[(f(!0),_(j,null,E(d(e).tasks,r=>(f(),I(c,{key:r.task_id,value:r.task_id},{default:y(()=>[B(h(r.task_name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),m(z,{type:"primary",loading:d(a),icon:J(d(O)),onClick:$},{default:y(()=>[...s[2]||(s[2]=[B("刷新",-1)])]),_:1},8,["loading","icon"]),m(z,{danger:"",type:"primary",onClick:s[1]||(s[1]=()=>k())},{default:y(()=>[...s[3]||(s[3]=[B("删除结果",-1)])]),_:1})]),m(D,{spinning:d(a),wrapperClassName:"flex-1 h-0 overflow-auto"},{default:y(()=>[d(i)?.items?.length?(f(),_("div",mt,[(f(!0),_(j,null,E(d(i).items,r=>(f(),_("div",{key:r.商品信息.商品ID,class:"border border-gray-200 rounded-md p-2 bg-white"},[r.商品信息.商品图片列表?.length?(f(),_("img",{key:0,src:r.商品信息.商品图片列表[0],class:"w-full h-32 object-contain mb-2"},null,8,vt)):M("",!0),l("div",{class:"font-medium mb-1 text-sm line-clamp-2",title:r.商品信息.商品标题},h(r.商品信息.商品标题),9,pt),l("div",_t,[l("span",xt,h(r.商品信息.当前售价),1),l("span",bt,h(r.商品信息.商品原价),1)]),l("div",yt,"发货地: "+h(r.商品信息.发货地区),1),l("div",St,"卖家: "+h(r.卖家信息.卖家昵称),1),m(u),l("div",wt,[l("div",null,[l("div",$t,"发布时间："+h(r.商品信息.发布时间),1),l("div",zt,"抓取时间："+h(r.爬取时间),1)]),l("div",Ct,[l("a",{href:r.商品信息.商品链接,target:"_blank"},"查看",8,kt)])])]))),128))])):d(a)?M("",!0):(f(),_("div",Mt,"暂无结果"))]),_:1},8,["spinning"]),d(i)?(f(),I(N,{key:0,class:"mt-4",current:d(g),"page-size":d(S),total:d(i).total,onChange:w},null,8,["current","page-size","total"])):M("",!0)])}}});export{Tt as default};
